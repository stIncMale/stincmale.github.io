---
layout: base
title: Resume
custom_description: Server-side software engineer (Java) interested in concurrency and distributed systems.
---
{% include common-links-abbreviations.md %}

*[IRE RAS]:
{:data-title="Kotelnikov Institute of Radioengineering and Electronics of Russian Academy of Sciences"}

# Valentin Kovalenko
{:.resume-h .resume-invisible-media-not-print}
## Server-side software engineer
{:.resume-h}
Concurrency and distributed systems
<div class="resume-external-links resume-invisible-media-not-print">
  <a href="{% link resume.md %}">Browse this resume online</a><br>
  <a class="button" href="{{ site.custom_author_github }}" title="GitHub">
    {%- comment -%}<!-- /assets/img/_github-badge.svg -->{%- endcomment -%}
    <svg class="svg-button" viewBox="0 0 1024 1024" height="1024" width="1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 0C229.25 0 0 229.25 0 512c0 226.25 146.688 418.125 350.156 485.812 25.594 4.688 34.938-11.125 34.938-24.625 0-12.188-0.469-52.562-0.719-95.312C242 908.812 211.906 817.5 211.906 817.5c-23.312-59.125-56.844-74.875-56.844-74.875-46.531-31.75 3.53-31.125 3.53-31.125 51.406 3.562 78.47 52.75 78.47 52.75 45.688 78.25 119.875 55.625 149 42.5 4.654-33 17.904-55.625 32.5-68.375C304.906 725.438 185.344 681.5 185.344 485.312c0-55.938 19.969-101.562 52.656-137.406-5.219-13-22.844-65.094 5.062-135.562 0 0 42.938-13.75 140.812 52.5 40.812-11.406 84.594-17.031 128.125-17.219 43.5 0.188 87.312 5.875 128.188 17.281 97.688-66.312 140.688-52.5 140.688-52.5 28 70.531 10.375 122.562 5.125 135.5 32.812 35.844 52.625 81.469 52.625 137.406 0 196.688-119.75 240-233.812 252.688 18.438 15.875 34.75 47 34.75 94.75 0 68.438-0.688 123.625-0.688 140.5 0 13.625 9.312 29.562 35.25 24.562C877.438 930 1024 738.125 1024 512 1024 229.25 794.75 0 512 0z"></path></svg>
  </a>
  <a class="button" href="{{ site.custom_author_linkedin }}" title="LinkedIn">
    {%- comment -%}<!-- /assets/img/_linkedin-badge.svg -->{%- endcomment -%}
    <svg class="svg-button" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M473.305,-1.353c20.88,0 37.885,16.533 37.885,36.926l0,438.251c0,20.393 -17.005,36.954 -37.885,36.954l-436.459,0c-20.839,0 -37.773,-16.561 -37.773,-36.954l0,-438.251c0,-20.393 16.934,-36.926 37.773,-36.926l436.459,0Zm-37.829,436.389l0,-134.034c0,-65.822 -14.212,-116.427 -91.12,-116.427c-36.955,0 -61.739,20.263 -71.867,39.476l-1.04,0l0,-33.411l-72.811,0l0,244.396l75.866,0l0,-120.878c0,-31.883 6.031,-62.773 45.554,-62.773c38.981,0 39.468,36.461 39.468,64.802l0,118.849l75.95,0Zm-284.489,-244.396l-76.034,0l0,244.396l76.034,0l0,-244.396Zm-37.997,-121.489c-24.395,0 -44.066,19.735 -44.066,44.047c0,24.318 19.671,44.052 44.066,44.052c24.299,0 44.026,-19.734 44.026,-44.052c0,-24.312 -19.727,-44.047 -44.026,-44.047Z" style="fill-rule:nonzero;"></path></svg>
  </a>
  <a href="https://www.kovalenko.link/blog/tech/" title="DEAD<code/>">
    <img src="{% link /assets/img/favicon.png %}" alt="Logo" style="width: 1.7em; height: auto; vertical-align: -0.2em;">
  </a>
</div>
---
<div class="resume-contact-info">
  Location: <a href="https://www.google.com/maps/place/Calgary,+AB/@51.0272883,-114.3680132,10z/data=!3m1!4b1!4m5!3m4!1s0x537170039f843fd5:0x266d3bb1b652b63a!8m2!3d51.0447331!4d-114.0718831">Calgary, Alberta, Canada</a>
  (<a href="https://www.timeanddate.com/time/zone/canada/edmonton">America/Edmonton time zone</a>)<br>
  <div class="resume-invisible-media-not-print">
    Email: <a href="mailto:{{ site.custom_author_email }}">{{ site.custom_author_email }}</a><br>
  </div>
  <p></p>
</div>

#### Technical skills
{:.resume-h}
---

<table class="resume-table">
  <tbody>
    <tr class="resume-table-no-background">
      <td><code>Main&nbsp;language</code></td>
      <td><span markdown="1">[Java]</span></td>
    </tr>
    <tr class="resume-table-no-background">
      <td><code>Second&nbsp;language</code></td>
      <td><span markdown="1">[Rust]</span></td>
    </tr>
    <tr class="resume-table-no-background">
      <td><code>Frameworks/libraries</code></td>
      <td>
        <a href="https://netty.io/">Netty</a>,
        <a href="https://developers.google.com/protocol-buffers">Protocol Buffers</a>,
        <span markdown="1">[JMH]</span>,
        <a href="https://spring.io/projects/spring-framework">Spring Framework</a>,
        <a href="https://hibernate.org/orm/" markdown="1">Hibernate ORM</a>,
        <a href="https://junit.org/">JUnit</a>,
        <a href="http://mockito.org/">Mockito</a>
      </td>
    </tr>
    <tr class="resume-table-no-background">
      <td><abbr data-title="Database Management System"><code>DBMSs</code></abbr></td>
      <td>
        <a href="https://www.postgresql.org/">PostgreSQL</a>,
        <a href="https://redis.io/">Redis</a> + <a href="https://redis.io/topics/sentinel">Sentinel</a>,
        <a href="https://cassandra.apache.org/">Cassandra</a>
      </td>
    </tr>
    <tr class="resume-table-no-background">
      <td><code>Distributed&nbsp;coordination</code></td>
      <td>
        <a href="https://zookeeper.apache.org/">ZooKeeper</a> + <a href="https://curator.apache.org/">Curator</a>
      </td>
    </tr>
    <tr class="resume-table-no-background">
      <td><code>Other</code></td>
      <td>
        <a href="https://maven.apache.org/">Maven</a>,
        <a href="https://git-scm.com/">Git</a>,
        <a href="https://www.docker.com/">Docker</a>,
        <a href="https://github.com/stIncMale/stincmale.github.io">basic front-end knowledge</a>,
        good understanding of the
        <a href="https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4">
        Java memory model</a>
        (this <a href="{% post_url 2014-01-01-java-final-field-semantics %}">presentation</a>
        may back the claim)
      </td>
    </tr>
  </tbody>
</table>

#### Work experience
{:.resume-h}
---

<h6 class="resume-h">
  <a href="https://www.mongodb.com/" title="MongoDB">
    <img src="{% link /assets/img/resume/mongodb-logo.png %}" alt="Logo" style="width: auto; height: 1.1em;">
    MongoDB
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Calgary, Canada (remote)</span>
</h6>
_Senior Java driver engineer_ / <span class="resume-insignificant">Jan 2021&ndash;current</span>
<div class="resume-experience" markdown="1">
* **[MongoDB Extension of Hibernate ORM]**
  * [my pull requests](https://github.com/mongodb/mongo-hibernate/pulls?page=1&q=is%3Apr+author%3AstIncMale);
  * I participated in development from the inception,
    but the man behind the key architecture ideas is [Nathan Xu](https://github.com/NathanQingyangXu).
* **[MongoDB Java Drivers]**
  * [my pull requests](https://github.com/mongodb/mongo-java-driver/pulls?page=1&q=is%3Apr+author%3AstIncMale);
  * [implemented](https://github.com/mongodb/mongo-java-driver/pull/1509) a
    [**client-level API**](https://mongodb.github.io/mongo-java-driver/5.3/apidocs/mongodb-driver-core/com/mongodb/client/model/bulk/package-summary.html)
    [**`MongoCluster.bulkWrite`**](https://mongodb.github.io/mongo-java-driver/5.3/apidocs/mongodb-driver-sync/com/mongodb/client/MongoCluster.html#bulkWrite(com.mongodb.client.ClientSession,java.util.List,com.mongodb.client.model.bulk.ClientBulkWriteOptions))
    for the [`bulkWrite`](https://www.mongodb.com/docs/manual/reference/command/bulkWrite/) command;
  * [implemented](https://github.com/mongodb/mongo-java-driver/pull/1154)
    a PoC for using **[gRPC] as a "transport" protocol** for [MongoDB Wire Protocol] messages,
    the most interesting part is
    [`GrpcStream.java`](https://github.com/mongodb/mongo-java-driver/blob/d8a29e56b7fdff06a2d4222cc8e74903da8cf365/driver-core/src/main/com/mongodb/internal/connection/grpc/GrpcStream.java);
    {% comment %}
      We wanted to have multiplexing of requests, and HTTP/2, HTTP/3, QUIC all have it.
      With multiplexing,
      - it is easier to size connection pools, as only a few connections are needed,
        and there will hardly be unused pooled connections;
      - fewer connections means fewer TLS and MongoDB handshakes, i.e., faster startup time.

      We also wanted integrability with the HTTP infrastructure,
      as HTTP access is important for FaaS use-cases.

      gRPC had implementation over HTTP/2, and may have one over HTTP/3 in the future.
      It seems better to use gRPC rather than HTTP directly:
      - we may decide to use gRPC features that we do not currently use;
      - despite HTTP/3 not being awailable, once it is supported, we'll trivially switch to it,
        and have the head-of-line blocking problem solved completely,
        while using only a single connection.
    {% endcomment %}
  * designed and
    [implemented](https://github.com/mongodb/mongo-java-driver/commit/1812865f234b2d9c9ab27ea760959ded152d51ac)
    a **[query building API](https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-core/com/mongodb/client/model/search/package-summary.html)**
    for [MongoDB Atlas Search](https://www.mongodb.com/docs/atlas/atlas-search/searching/);
  * investigated and fixed an interesting
    [**performance** degradation](https://jira.mongodb.org/browse/JAVA-4452?focusedCommentId=4316187&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-4316187)
    caused by fair locking, without blowing up the tail latency;
    {% comment %}
      If the ticket becomes unavailable, the PDF version is in
      `My Drive/programming/from previous jobs/MongoDB`.
    {% endcomment %}
  * implemented a large set of improvements that help
    [**avoiding connection storms**](https://jira.mongodb.org/browse/JAVA-3890);
    the most interesting parts are
    * implemented a
      [mechanism of limiting the number of connections that can be established concurrently](https://github.com/mongodb/mongo-java-driver/blob/8c68972b6b5278bc42b702b6837236b2c6fedbc2/driver-core/src/main/com/mongodb/internal/connection/DefaultConnectionPool.java#L830-L1118),
      featuring the connection hand-over mechanism to support fairness;
    * [refactored read/write retries](https://github.com/mongodb/mongo-java-driver/pull/782).
* **[MongoDB Rust Driver]**
  * [my pull requests](https://github.com/mongodb/mongo-rust-driver/pulls?page=1&q=is%3Apr+author%3AstIncMale).
* **[MongoDB Kafka Connector]**
  * [my pull requests](https://github.com/mongodb/mongo-kafka/pulls?page=1&q=is%3Apr+author%3AstIncMale).
</div>

<h6 class="resume-h">
  <a href="https://www.synopsys.com/" title="Synopsys">
    <img src="{% link /assets/img/resume/synopsys-logo.png %}" alt="Logo" style="width: auto; height: 0.8em;">
    Synopsys
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Calgary, Canada</span>
</h6>
_Senior software engineer_ / <span class="resume-insignificant">Apr 2018&ndash;Nov 2020</span>
<div class="resume-experience" markdown="1">
* **[Coverity Connect](https://www.synopsys.com/software-integrity/security-testing/static-analysis-sast.html) server**
  (Tomcat, PostgreSQL, Hibernate ORM)&mdash;stores and manages issues detected by code analysis tools
  * designed and developed **export/import** functionality (the technical side is more complex than it sounds)
    in pair with [Maxim Katcharov](https://www.linkedin.com/in/katcharov/),
    designed and implemented support of this functionality in a **cluster environment** on my own;
    {% comment %}
      See `My Drive/programming/from previous jobs/Synopsys`,
      https://gist.github.com/stIncMale/1db6608396edb35a1cc19894f430b5a2.
      Also used listen/notify and advisory locks https://gist.github.com/stIncMale/bd673f5680e390f6f23ee308bd489f0d.
      Listen/notify was used to improve reaction of one process waiting for new rows inserted by another process;
      this was used to delete exported streams.
    {% endcomment %}
  * **migrated from JDK 8 to JDK 11**, took me about 1.5 months in case you are curious;
  * **cluster**&mdash;identified and fixed/mitigated multiple bugs, including replication failures caused by
    * incorrect inference of the order of replicated changes,
      here is my [related blog post]({% post_url 2018-07-30-data-replication-pitfall %});
    * broken transaction isolation due to incorrect cache strategy;
    {% comment %}
      Cluster: a coordinator and subscribers with read-only config. Coordinator replicates config (users, roles, groups, triage stores, etc. to subscribers).
      Some data is modifiable on subscribers and is replicated to coordinator (triage data, merged issue), applied to its history (ordered) and replicated back.
      A write-through cache of role assignments; effectively just a concurrent hash map, no transactional semantics:
      - breaks transaction isolation: other transactions may see uncommitted changes;
      - if a transaction rolls back, the cache modification is not undone.
      Replication of role assignments reads role cache and clears it (on a per-user basis) before applying the role assignments that have come from the coordinator.
      Sometimes the replicating transaction fails by violating a foreign key constraint because it observes role assignments for a new uncommitted stream
      that is being concurrently created. The cache is left inconsistent (empty for a user) with the DB in this case, and a user cannot log in the system.
      There is a mechanism that reloads the cache in this case, but it operates in the same failed transaction, therefore the DBMS refuses to fulfill the request.
      In order to mitigate the problem, the mechanism was changed to work in a new transaction.
      An actual fix was not feasible due to complexity and resource intensity.
    {% endcomment %}
  * incremental updates functionality&mdash;allows automatically updating client applications;
    fixed a number of bugs, optimized the process of downloading updates so that updates that are not needed or have been cached would not be downloaded.
</div>

<h6 class="resume-h">
  <a href="https://www.zeptolab.com/" title="ZeptoLab">
    <img src="{% link /assets/img/resume/zeptolab-logo.png %}" alt="Logo" style="width: auto; height: 1.4em;">
    ZeptoLab
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Moscow, Russia</span>
</h6>
_Senior server-side developer_ / <span class="resume-insignificant">Jan 2016&ndash;Mar 2018</span>\\
_Server-side developer_ / <span class="resume-insignificant">Dec 2014&ndash;Dec 2015</span>
<div class="resume-experience" markdown="1">
* **[King of Thieves](https://www.kingofthieves.com/) server**
  (Netty, ZooKeeper + Curator, Protocol Buffers, Redis + Sentinel, Cassandra, Docker, Ansible, Datadog, Mixpanel)
  * joined this project in Aug 2015, 7 months after the global release, and supported it / developed new features until resigning;
  * implemented validation and processing of **in-app purchases and subscriptions**, here is my [related blog post]({% post_url 2017-06-06-decoding-apple-app-store-receipts %});
  * implemented **automatic data extraction/grouping from Mixpanel and sending** it to partners.
* **Server and client homegrown frameworks** (Netty)
  * **developed from scratch**;
  * the server framework is similar to my [server project](https://github.com/stIncMale/server), which is based on it.
* **Configuration server** (Netty, Hibernate ORM, JGroups, PostgreSQL, Tapestry)&mdash;manages
  and delivers game configurations to game clients, supports having configurations for split-testing
  * **redeveloped**;
  * a couple of dozen projects started using it compared to only a single one before redevelopment.
  {% comment %}
    A single admin server that allows registering users, modifying configs (all this is stored in a DB managed by PostgreSQL).
    There are multiple read-only servers that clients use to read configs (all servers have the same DNS name, DNS round-robin for balancing).
    Reading the config data does not require authorization.
    Read-only servers do not have persistent data and get configurations from the admin server via JGroups.
  {% endcomment %}
* **Notifications server/client** (Netty, ZooKeeper + Curator, JGroups, Protocol Buffers, PostgreSQL)&mdash;provides
  unified access to major push notification services,
  e.g., Amazon Device Messaging, Apple Push Notification Service
  * **refactored the design** as inappropriate usage of ActiveMQ and Quartz Scheduler was causing performance bottlenecks;
  * **improved the throughput** by an order of magnitude;
  * when I resigned, this server was used by all ZeptoLab games.
  {% comment %}
    A single admin server that allows registering users, modifying notification configs (all this is stored in a DB managed by PostgreSQL).
    
    Each notification has an ID, which is constructed from the game ID and the notification ID unique within all notifications for that game).
    
    There are multiple worker servers that maintain the notification schedule and send notifications via platform-specific API
    (Android notifications, Apple Push Notification service). Workers maintain the schedule in memory
    (the scheduler is based on the ScheduledExecutorService), but also persist it in its local DB in the form of a almost append-only log.
    The log is read at startup starting from the entries that are not outdated and towards the most recent entries (if there are multiple entries for
    the same notification ID, the most recent entry overrides the older ones regardless of the scheduled time for them). The log is regularly trimmed,
    i.e., the outdated entires are removed.
    
    Worker servers get configurations from the admin server via JGroups.
    
    There are multiple balancer servers (all servers have the same DNS name, DNS round-robin for balancing).
    They organize workers into a consistent hash ring, so that a re-schedule request can be forwarded to the same worker
    that originally scheduled the notification with the same ID. When a new worker is added or a worker leaves the ring, data (schedules) for those
    IDs that have to be moved to different workers in the ring. This greatly simplifies the solution and affects only a small fraction of notifications,
    not allowing to re-schedule or cancel them (re-scheduling may schedule a notification with the same ID).
    
    Balancer servers discover workers from a ZooKeeper cluster: workers register themselves there.
  {% endcomment %}
</div>

<h6 class="resume-h">
  <a href="https://www.netcracker.com/" title="Netcracker">
    <img src="{% link /assets/img/resume/netcracker-logo.png %}" alt="Logo" style="width: auto; height: 0.9em;">
    Netcracker
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Moscow, Russia</span>
</h6>
_Senior software programmer_ / <span class="resume-insignificant">Aug 2013&ndash;Dec 2014</span>\\
_Software programmer_ / <span class="resume-insignificant">Apr 2010&ndash;Aug 2013</span>
<div class="resume-experience" markdown="1">
* [**TELUS Self Service Portal**](https://www.telus.com) (JMS, WebLogic Server, Oracle Database)
  * integrated with **Oracle OpenSSO**;
  * **availability**&mdash;developed functionality allowing front-end servers to persist
    and later initiate asynchronous execution of tasks on back-ends.
    This allowed users to use some features of the portal even when back-end servers are temporarily unavailable.
* **Data objects**, a homegrown persistence library&mdash;developed various **concurrent caches**.
* Implemented **OpenID authentication**.
* **Data migration** (Oracle Database, Oracle PL/SQL).
</div>

<h6 class="resume-h">
  <a href="https://www.it.ru/en/" title="I.T. Information Technology">
    <img src="{% link /assets/img/resume/it-logo.jpg %}" alt="Logo" style="width: auto; height: 0.7em;">
    I.T. Information Technology
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Moscow, Russia</span>
</h6>
_Implementation engineer_ / <span class="resume-insignificant">Jul 2008&ndash;Apr 2010</span>

<h6 class="resume-h">
  <a href="http://www.cplire.ru/" title="IRE RAS" markdown="1">
    <img src="{% link /assets/img/resume/cplire-logo.gif %}" alt="Logo" style="width: auto; height: 0.9em;">
    IRE RAS
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Moscow, Russia</span>
</h6>
_Student_ / <span class="resume-insignificant">Sep 2006&ndash;Jun 2009</span>

#### Formal education
{:.resume-h}
---

<h6 class="resume-h">
  <a href="https://mipt.ru/english/" title="MIPT">
    <img src="{% link /assets/img/resume/mipt-logo.png %}" alt="Logo" style="width: auto; height: 1.1em;">
    Moscow Institute of Physics and Technology
  </a>
  / <span class="resume-insignificant resume-normal-font-weight">Dolgoprudny, Moscow Region, Russia</span>
</h6>
_MSc in applied mathematics and physics_ / <span class="resume-insignificant">Sep 2007&ndash;Jun 2009</span>\\
_BSc in applied mathematics and physics_ / <span class="resume-insignificant">Sep 2003&ndash;Jun 2007</span>
